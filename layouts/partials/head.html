<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ if .IsHome }}{{ .Site.Title }} - {{ .Site.Params.description }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
<link rel="icon" type="image/x-icon" href="/img/khipro-favicon.ico">

<!-- Centralized Color System -->
<link rel="stylesheet" href="/css/colors.css">
<!-- Font System -->
<link rel="stylesheet" href="/css/fonts.css">

<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                colors: {
                    // Map Tailwind classes to CSS variables
                    'primary': 'var(--color-primary)',
                    'primary-light': 'var(--color-primary-light)',
                    'primary-dark': 'var(--color-primary-dark)',
                    'header-dark': 'var(--color-header-dark)',
                    'secondary': 'var(--color-secondary)',
                    'light': 'var(--color-light)',
                    'dark-text': 'var(--color-dark-text)',
                    'accent': 'var(--color-accent)',
                    
                    // Dark mode variants
                    'dark': 'var(--color-body-bg)',
                    'dark-primary': 'var(--color-primary)',
                    'dark-primary-light': 'var(--color-primary-light)',
                    'dark-primary-dark': 'var(--color-primary-dark)',
                    'dark-header-dark': 'var(--color-header-dark)',
                    'dark-secondary': 'var(--color-secondary)',
                    'dark-light': 'var(--color-light)',
                    'dark-text-light': 'var(--color-text-primary)',
                    'dark-accent': 'var(--color-accent)',
                }
            }
        }
    }
</script>
<script>
    // Theme toggle functionality
    document.addEventListener('DOMContentLoaded', function() {
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;
        
        // Check for saved theme preference or default to light mode
        const savedTheme = localStorage.getItem('theme');
        
        // Set initial theme - always default to light mode unless user explicitly chose dark
        if (savedTheme === 'dark') {
            html.classList.add('dark');
        } else {
            html.classList.remove('dark');
        }
        
        // Theme toggle event listener
        if (themeToggle) {
            themeToggle.addEventListener('click', function() {
                if (html.classList.contains('dark')) {
                    html.classList.remove('dark');
                    localStorage.setItem('theme', 'light');
                } else {
                    html.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                }
            });
        }
        
        // Listen for system theme changes - but only apply if user hasn't made an explicit choice
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
            if (!localStorage.getItem('theme')) {
                // Always stay in light mode regardless of system preference
                html.classList.remove('dark');
            }
        });
    });
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>

    /* Background patterns now managed by /css/colors.css */

    /* TOC Styles */
    .toc {
        position: sticky;
        top: 6rem;
        max-height: calc(100vh - 8rem);
        overflow-y: auto;
    }

    .toc ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    .toc ul ul {
        padding-left: 1rem;
        margin-top: 0.25rem;
    }

    /* TOC colors now managed by /css/colors.css */
    .toc a {
        display: block;
        padding: 0.25rem 0.5rem;
        text-decoration: none;
        border-radius: 0.375rem;
        font-size: 0.875rem;
        line-height: 1.25rem;
        transition: all 0.2s;
    }


    /* Responsive Table Styles */
    .table-container {
        overflow-x: auto;
        margin: 1rem 0;
        border-radius: 0.5rem;
        border: 1px solid #e5e7eb;
    }

    .dark .table-container {
        border-color: #374151;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.875rem;
    }

    th, td {
        padding: 0.75rem 0.5rem;
        text-align: left;
        border-bottom: 1px solid #e5e7eb;
        word-wrap: break-word;
    }

    .dark th, .dark td {
        border-color: #374151;
    }

    th {
        background-color: #f9fafb;
        font-weight: 600;
        color: #374151;
    }

    .dark th {
        background-color: #374151;
        color: #f9fafb;
    }

    tr:hover {
        background-color: #f3f4f6;
    }

    .dark tr:hover {
        background-color: #4b5563;
    }

    /* Mobile responsive tables */
    @media (max-width: 768px) {
        /* For tables with many columns, make them horizontally scrollable */
        .table-container {
            -webkit-overflow-scrolling: touch;
        }

        table {
            min-width: 600px; /* Ensure table doesn't get too cramped */
            font-size: 0.8rem;
        }

        th, td {
            padding: 0.5rem 0.25rem;
            min-width: 60px;
        }

        /* Special handling for the first two tables (স্বরবর্ণ and ব্যঞ্জনবর্ণ) */
        .docs-content table:nth-of-type(1),
        .docs-content table:nth-of-type(2) {
            min-width: 800px;
        }

        .docs-content table:nth-of-type(1) th,
        .docs-content table:nth-of-type(1) td,
        .docs-content table:nth-of-type(2) th,
        .docs-content table:nth-of-type(2) td {
            min-width: 50px;
            text-align: center;
            font-size: 0.75rem;
        }
    }

    @media (max-width: 480px) {
        table {
            font-size: 0.75rem;
        }

        th, td {
            padding: 0.4rem 0.2rem;
            min-width: 45px;
        }

        .docs-content table:nth-of-type(1) th,
        .docs-content table:nth-of-type(1) td,
        .docs-content table:nth-of-type(2) th,
        .docs-content table:nth-of-type(2) td {
            min-width: 40px;
            font-size: 0.7rem;
        }
    }

    /* Mobile TOC */
    @media (max-width: 768px) {
        .toc-mobile-toggle {
            display: block;
        }
        
        .toc-sidebar {
            display: none;
        }
        
        .toc-sidebar.show {
            display: block;
            position: fixed;
            top: 5rem;
            left: 0;
            right: 0;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            z-index: 40;
            max-height: 50vh;
            overflow-y: auto;
            padding: 1rem;
        }
        
        .dark .toc-sidebar.show {
            background: #1f2937;
            border-color: #374151;
        }
    }
</style>
